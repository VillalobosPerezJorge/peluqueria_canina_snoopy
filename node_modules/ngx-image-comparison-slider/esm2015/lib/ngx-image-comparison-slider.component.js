import { Component, Input, ViewChild } from '@angular/core';
import { Subject } from 'rxjs';
import { DomSanitizer } from '@angular/platform-browser';
const separatorImages = {
    black: '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',
    white: 'iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QYQEiYIh6P+pgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAChElEQVR42u3dQVLDMBBEUTxF5f7nzQYuAEkcsDRSv79lEan7W3bsyBwfYdzv969Hf7/dbkdSHofis0U4lJ8twaH8bAlK+dmUCLIlIkA4hyM3+1rACuAaAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAATAcnyO+JBH+/TSXsnSLZtj5gSvnGz3zaGzchl6CjhTQtLLHDrlUh0miXlZVqcBJ0jTLZty5GevBNVtgDsL1DGfcuRnrwSl/GwJqlv5O98Y6nivoxz52StBKT9bgupUfsJzgavm+G4npfxsCUr52RKU8rMlKOVnS1DKz5aglJ8tQSk/W4JSfrYEx6jyRwc06xnFavkdKw3+TCGjBVg1u1pxAt3Gu3J2teIEOgW/ena1+lO9mePfITtbw8LZQoAZR+Iuv4ewAlgBQAAQAARYlhnPGHZ5rmEFSF8BVjd55vh3yK5WnkiHca+e3ZJPA18Jfcbj4BXzG/Z7gNFHyup7Fkf1UKMmaitZv/J//RZAgozyH34NJMH+5T+9D0CCvct/KgAJ9i7/JQFIsG/5LwtAgj3LPyUACfYr/7QAJNir/LcEIME+5b8twJUSYGwXNeuDE1eBK+b21w5q9gAwN/vqMhDMyby6DYhMYzOqrgNT3JiMq7OduD7b6jRQr4odn011mahXxc7JpjpM1Kti52UzLPifboJcObmVfhQ6OpspAozGfzJpcAoAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAXARW2/K/K/tYTtvXrUCOAUg9ejfXgCvqwm/BvjrtUCCQDFHyFkJUlaPuCXymQhpp41vCXPA3GxbkbAAAAAASUVORK5CYII='
};
export class NgxImageComparisonSliderComponent {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
        this.value = new Subject();
        this.maxWidth = 600;
        this.maxHeight = 400;
        this.imageFit = 'cover';
        this.sliderWidth = 5;
        this.sliderColor = 'whitesmoke';
        this.showSliderBall = true;
        this.calcSliderBallDif = true;
        this.sliderBallImageColor = 'black';
        this.sliderBallImageSrc = '';
        this.alt1 = 'sliderImage1';
        this.alt2 = 'sliderImage2';
        this.zIndexStart = 1000;
        this.startPos = 'middle';
        this.sliderShadow = true;
        this.isDragging = false;
    }
    _setElementWidthHeight(x, w, h) {
        x.nativeElement.style.height = h + 'px';
        x.nativeElement.style.width = w + 'px';
    }
    _setElementStyle(x, attr, val) {
        x.nativeElement.style[attr] = val;
    }
    _setElementStylesObj(x, styles) {
        Object.keys(styles).forEach(k => {
            this._setElementStyle(x, k, styles[k]);
        });
    }
    _initValues() {
        this.sliderBallSize = !!this.sliderBallSize
            ? this.sliderBallSize
            : this.sliderWidth * 4;
        const sliderBallDif = this.showSliderBall && this.calcSliderBallDif ? this.sliderBallSize / 2 - this.sliderWidth / 2 : 0;
        this.leftBorder = !!this.leftBorder && this.leftBorder > 0
            ? this.leftBorder
            : sliderBallDif;
        this.rightBorder = !!this.rightBorder && this.rightBorder < this.maxWidth
            ? this.rightBorder
            : this.maxWidth - this.sliderWidth - sliderBallDif;
        this.sliderBallImageSrc = this.sanitizer.bypassSecurityTrustResourceUrl(`data:image/png;base64, ${separatorImages[this.sliderBallImageColor]}`);
    }
    _initStyles() {
        // LEFT CONTAINER
        this._setElementWidthHeight(this.div, this.maxWidth, this.maxHeight);
        this._setElementStylesObj(this.div, {
            zIndex: this.zIndexStart + 1
        });
        // RIGHT CONTAINER
        this._setElementWidthHeight(this.div2, this.maxWidth, this.maxHeight);
        this._setElementStylesObj(this.div2, {
            top: -this.maxHeight * 2 + 'px',
            marginBottom: -this.maxHeight * 2 + 'px',
            zIndex: this.zIndexStart
        });
        // SLIDER
        this._setElementWidthHeight(this.slider, this.sliderWidth, this.maxHeight);
        this._setElementStylesObj(this.slider, {
            top: -this.maxHeight + 'px',
            backgroundColor: this.sliderColor,
            zIndex: this.zIndexStart + 2,
            boxShadow: this.sliderShadow ? '0 0 15px black' : 'none'
        });
        this._setElementWidthHeight(this.sliderBall, this.sliderBallSize, this.sliderBallSize);
        this._setElementStylesObj(this.sliderBall, {
            top: this.maxHeight / 2 - this.sliderBallSize / 2 + 'px',
            left: this.sliderWidth / 2 - this.sliderBallSize / 2 + 'px',
            borderRadius: this.sliderBallSize / 2 + 'px',
            backgroundColor: this.sliderColor,
        });
        // LEFT IMAGE
        this._setElementWidthHeight(this.image, this.maxWidth, this.maxHeight);
        // RIGHT IMAGE
        this._setElementWidthHeight(this.image2, this.maxWidth, this.maxHeight);
        this._setElementStylesObj(this.image2, {
            objectFit: this.imageFit,
        });
    }
    _initListeners() {
        this.valueSub = this.value.subscribe(x => {
            this.div.nativeElement.style.width = x + 'px';
            this.slider.nativeElement.style.left = x + 'px';
            this.image2.nativeElement.style.clip =
                'rect(0px,2000px,2000px,' + x + 'px)';
        });
        let clickOffset = 0;
        const divOffset = this.div.nativeElement.getBoundingClientRect().left;
        const startListener = (e) => {
            e.preventDefault();
            console.log(e);
            this.isDragging = true;
            if (e instanceof MouseEvent) {
                clickOffset = e.offsetX;
            }
        };
        const moveListener = (e) => {
            if (this.isDragging) {
                if (e instanceof MouseEvent) {
                    e.preventDefault();
                }
                const clientX = e instanceof MouseEvent
                    ? e.clientX
                    : e.touches.item(0).clientX;
                const newVal = clientX - clickOffset - divOffset;
                this.value.next(Math.max(Math.min(newVal, this.rightBorder), this.leftBorder));
            }
        };
        const endListener = (e) => {
            this.isDragging = false;
        };
        this.slider.nativeElement.addEventListener('mousedown', startListener);
        this.slider.nativeElement.addEventListener('touchstart', startListener);
        window.addEventListener('mousemove', moveListener);
        window.addEventListener('touchmove', moveListener);
        window.addEventListener('mouseup', endListener);
        window.addEventListener('touchend', endListener);
    }
    _initStartPos() {
        let startVal;
        switch (this.startPos) {
            case 'leftBorder':
                startVal = this.leftBorder;
                break;
            case 'middle':
                startVal =
                    this.maxWidth / 2 - this.sliderWidth / 2 - (this.showSliderBall ? this.sliderBallSize / 2 : 0);
                break;
            case 'rightBorder':
                startVal = this.rightBorder;
                break;
            default:
                startVal = this.startPos;
                break;
        }
        this.value.next(startVal);
    }
    ngOnInit() {
        this._initValues();
    }
    ngAfterViewInit() {
        this._initStyles();
        this._initListeners();
        this._initStartPos();
    }
    ngOnDestroy() {
        if (this.valueSub) {
            this.valueSub.unsubscribe();
        }
    }
}
NgxImageComparisonSliderComponent.decorators = [
    { type: Component, args: [{
                selector: 'ngx-image-comparison-slider',
                template: `
    <div style="overflow: hidden;" #d1>
      <img
        [src]="src1"
        [alt]="alt1"
        #i1/>
    </div>
    <div style="position: relative; cursor: col-resize;" #s>
      <div style="position: absolute;" [hidden]="!showSliderBall" #sb>
        <img
          alt="separate image"
          [src]="sliderBallImageSrc"
          width="60%"
          style="left: 20%; top: 20%; position: absolute"
        />
      </div>
    </div>
    <div style="overflow: hidden; position: relative;" #d2>
      <img
        [src]="src2"
        [alt]="alt2"
        style="position: absolute;"
        #i2
      />
    </div>
  `
            },] }
];
NgxImageComparisonSliderComponent.ctorParameters = () => [
    { type: DomSanitizer }
];
NgxImageComparisonSliderComponent.propDecorators = {
    div: [{ type: ViewChild, args: ['d1',] }],
    div2: [{ type: ViewChild, args: ['d2',] }],
    slider: [{ type: ViewChild, args: ['s',] }],
    image: [{ type: ViewChild, args: ['i1',] }],
    image2: [{ type: ViewChild, args: ['i2',] }],
    sliderBall: [{ type: ViewChild, args: ['sb',] }],
    src1: [{ type: Input }],
    src2: [{ type: Input }],
    maxWidth: [{ type: Input }],
    maxHeight: [{ type: Input }],
    imageFit: [{ type: Input }],
    sliderWidth: [{ type: Input }],
    sliderColor: [{ type: Input }],
    showSliderBall: [{ type: Input }],
    calcSliderBallDif: [{ type: Input }],
    sliderBallSize: [{ type: Input }],
    sliderBallImageColor: [{ type: Input }],
    leftBorder: [{ type: Input }],
    rightBorder: [{ type: Input }],
    alt1: [{ type: Input }],
    alt2: [{ type: Input }],
    zIndexStart: [{ type: Input }],
    startPos: [{ type: Input }],
    sliderShadow: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWltYWdlLWNvbXBhcmlzb24tc2xpZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbWFnZS1jb21wYXJpc29uLXNsaWRlci9zcmMvbGliL25neC1pbWFnZS1jb21wYXJpc29uLXNsaWRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLFNBQVMsRUFFVCxLQUFLLEVBR0wsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxPQUFPLEVBQWUsTUFBTSxNQUFNLENBQUM7QUFDM0MsT0FBTyxFQUFDLFlBQVksRUFBa0IsTUFBTSwyQkFBMkIsQ0FBQztBQUV4RSxNQUFNLGVBQWUsR0FBRztJQUN0QixLQUFLLEVBQUUsa21GQUFrbUY7SUFDem1GLEtBQUssRUFBRSw4aUNBQThpQztDQUN0akMsQ0FBQztBQWdDRixNQUFNLE9BQU8saUNBQWlDO0lBZ0M1QyxZQUFvQixTQUF1QjtRQUF2QixjQUFTLEdBQVQsU0FBUyxDQUFjO1FBdkIzQyxVQUFLLEdBQUcsSUFBSSxPQUFPLEVBQVUsQ0FBQztRQUlyQixhQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ2YsY0FBUyxHQUFHLEdBQUcsQ0FBQztRQUNoQixhQUFRLEdBQWlDLE9BQU8sQ0FBQztRQUNqRCxnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNoQixnQkFBVyxHQUFHLFlBQVksQ0FBQztRQUMzQixtQkFBYyxHQUFHLElBQUksQ0FBQztRQUN0QixzQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFFekIseUJBQW9CLEdBQXNCLE9BQU8sQ0FBQztRQUMzRCx1QkFBa0IsR0FBb0IsRUFBRSxDQUFDO1FBR2hDLFNBQUksR0FBRyxjQUFjLENBQUM7UUFDdEIsU0FBSSxHQUFHLGNBQWMsQ0FBQztRQUN0QixnQkFBVyxHQUFHLElBQUksQ0FBQztRQUNuQixhQUFRLEdBQXFELFFBQVEsQ0FBQztR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Ozs7OztHQXlCVDthQUVGOzs7WUFwQ08sWUFBWTs7O2tCQXVDakIsU0FBUyxTQUFDLElBQUk7bUJBQ2QsU0FBUyxTQUFDLElBQUk7cUJBQ2QsU0FBUyxTQUFDLEdBQUc7b0JBQ2IsU0FBUyxTQUFDLElBQUk7cUJBQ2QsU0FBUyxTQUFDLElBQUk7eUJBQ2QsU0FBUyxTQUFDLElBQUk7bUJBSWQsS0FBSzttQkFDTCxLQUFLO3VCQUNMLEtBQUs7d0JBQ0wsS0FBSzt1QkFDTCxLQUFLOzBCQUNMLEtBQUs7MEJBQ0wsS0FBSzs2QkFDTCxLQUFLO2dDQUNMLEtBQUs7NkJBQ0wsS0FBSzttQ0FDTCxLQUFLO3lCQUVMLEtBQUs7MEJBQ0wsS0FBSzttQkFDTCxLQUFLO21CQUNMLEtBQUs7MEJBQ0wsS0FBSzt1QkFDTCxLQUFLOzJCQUNMLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIElucHV0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTdWJqZWN0LCBTdWJzY3JpcHRpb259IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtEb21TYW5pdGl6ZXIsIFNhZmVSZXNvdXJjZVVybH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5cbmNvbnN0IHNlcGFyYXRvckltYWdlcyA9IHtcbiAgYmxhY2s6ICdpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQUREUG1ITEFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg1UVlRRWlVU1VleFVId0FBQUIxcFZGaDBRMjl0YldWdWRBQUFBQUFBUTNKbFlYUmxaQ0IzYVhSb0lFZEpUVkJrTG1VSEFBQUhLa2xFUVZSNDJ1MmQvWXNWVlJqSFB6dTdhMjZicHV1bWJ0Wks5aUlLSXBWS1VSQ2x2UWdsRW1uOVVvbFIvUWtsSkduMFExQVFrbWFLUmtWUUVrU0Z0UWFwSUlJcDlZdVdwcVdHWVl1cHU3NnM2K3JlbDM0NHo0VkYxdlhlblRQM25tZm0rY0xBc3V6T21mTjhQM1Btekpsem5sTkg5dFFDekFDbUFXM3l1MDVnUDdBUDZNYVVTalVEUzRFdFFCZVFBNHBBUVg0K0RYUUFTNEFtQzFlNjFBNnNCaTZJNlVNZFBjQXFZSktGTFIxcUJUYktuVjRzOHlnQTY0Q3hGajdkcWdPV0Eva0t6QzhkT1dDWmhWQzNaZ0dIaG1GKzZkZ1B6RXh6Z0tLVUF6QVB1RDNHLzArVmN4Z0FDblU5Y0YvTU9rWnlqaVlEUUo5dWtONS9YRTBXbUF3QVpSb0pqUEp3bmxGeUxnTkE0UnRBNU9rOGRRYUF5UUF3R1FBbUE4QmtBSmdNQUpNQllESUFUQWFBeVFBd0dRQW1BOEJrQUpnTUFKTUJZRElBVEFhQXlRQXdHUUFtQThCa0FKZ01BSk1CWURJQVRLR3BvVXJsTkFKMzRSWmJqZ0V1QWtkeHEyL1BaZHlERzNIcGFxYmdWaUIxQXdlQlA0SCtORlJ3RHJCR0RPK1RTbDBDVGdMZkFJdEladVhOWk9Bd3cxOGFYanIrQUc1SnFQVmRMREU0S1RIcGx4Z2RBVDdBTFc5WHJXZUEzZGNJOEgvQWEwQjloZ0JvQUY0WDQ0Y3FleGZ3dEZiem41VW12cHdnbndGZXpoQUFyd0pueXl6L2Qya2wxWmwvb01KQTd3SnV5d0FBVThwb0ZWVkRVTW1kUC9DNGhFdlJsbllBbGdLWGgzRWRpVUFRSldEK205S3JyVlFqY1BsNDZrbXY2b0c3NWEyb1VrMEhWdmlHSUFyRS9KSnV5Z0FBclRIKzN6c0V2Z0JZN01GOGNJa2NDeWtHb0NCMUpCUUlJay9tci9CZ2ZsNmVjN2tVQTVDVE9oWkNnaUN1K2NQcDhBMTJIQUh1elVBbmNEYnd0NmVZMWZUdHdLZjVlV0NsNXo1SnFBQkV3TnRVbHJvMk9BaDhtbDhFUGdZbVpHZ2dxQTM0eEdQOHFncUJiL00vazhFUk1nUUF3QjNBNTlvZ1dDd0ZoVzYrQmdEVVFhREpmQzBBcUlGQW0vbWFBQWdlQW8zbWF3TWdXQWkwbXE4UmdPQWcwR3krVmdDQ2dVQzcrWm9CcUNvRWcwMEtYWVQ3c0RQZFUyVytCdDREVHVDMmJvc3pqdDVQK0IrTDZpV3VjU2JjZGtyTW1vR0ZIcTZwOU8wQTRLdWhBRmdrZitqTC9BSnVKdkQ3TWM5VDJzN3RNTEFUMklhYlVoV1N4Z0J6Z1FkdzI5UTBFMyt5NjBTcGUxMlNFQXcwMzJlem45VFJBMndDSGdyb0VmQ0lCUFdDZ3ZnTitqaVlEK3hWY1BGWHppR2NHd0FBandON2xNVnVyM2dPdUgxMU9wUlZvSFI4Szgxa3JRQ1lCSHl2TkhZZFFIc0VQSFdOT3lsa3paZnJyNVVXQUk4cGpkMDhZRUVrNWpjcXJVUWo4REJ3WFEzS2JwS3lHNVRHcmdHWUcrSFc3R25XbmZqWkhheFNqWkt5VmNjdXdrM0gxcXdSTmJvTEcydlU4bmlOWFFSMEthL0VLZHhxNDJxclY4cldySzRJdDB4SnE0ckFMOVJtaWZsWktWdXpka2ZBWnR3d3JVWWRIL0FLVzIwVmdCOXd3N1lhZFFMWUhPR0dWVGVnYjBGR1RxNTdSdzJ2WWJ0Y1ExNVo3QXB5M2R0S3YyZ0YxdUp2cW5MU3h6bmdIV0QwRUpXczFramdHT0JkNEx5UzJCWEU2MVlHOUo1UEFXL2hQanE4Z3QrTUhaYzluU2N2eHUvQmpidHY4bmp1T0RvRHZBSDhoaHRqbnkydmlMN1dPUHA4U3lzQzY4WHJVMXp4K3RTSlc1eUJSd2o2Z0IrQkx6dzBXYjNBdjNKWGg1Wlg2Qkx3S1M3ZHl4VGdadHlXODNFWHVqd1BQT29KZ2lLd1Rzd2ZzdC9TQm56azhYRndCSGloQnFab25oQUM4Qkx3aitkbWYySzVoU2NCd1lzR2dBN3owd0tCVmdDQ01EOE5FR2dFSUNqems0TGdhSlVnMEFaQWtPWnJoa0FUQUVHYm55UUVTd3dBSGVacmhFQURBTDdOL3pCSjg3VTlEa0lIWUdrQzVrK2dTdklOd1VIZ3lRd0JzQkQ0UzZ2NVNVSHdIVEF1QXdDTXgzMUdWbTErRWhEMDRqY3pkcWdBUEllYndSU0UrWEUvVnBRK0lLMG4vcVNNSnR6ZUFtbmV4YVJlNmpneTVubUtjdU90Sk9aa0hoL0I5Z2xCTzNxbldaY0x3SzJobUkvSFlQdjZsSnlqTnRPN3FxbDhUUFBYNGo3cGVwbkc1N081amRzU0ZFblJQamxYVWIvVXNSaUMrYUYxREx0d3k1WFMzZ21jVC9tN2hRenM4SzJwWlcrL0doQnNrSTVnMmdGb3BySXNvU1h6eDJ0cjd0cWt5Y3FYVWNtZjhKc29PdlNCb0RtNEdjWFhLanNIck5ab2ZrbmpjSW1STzY5U3dZdkFsOEQ5Q1pRZCtsRHdnN2pKclgxWEtmZTQ5S25HSm1sUTBxOWNwM0g1aHJZRFR3RDNDQlI5RXRpdHVQWDEycGVuRFVjN0pRYWJjUmxHcHNyNHdHbmdWOXlDbHgzb1czTXc1QnZIYU56WHFoYVNYNUt1YVQ3QUNJbkpSSWxSMVFiRHFqbm9Vc0JONTg3NlZyR0Q2WEt0V2tIYlBEcmpNZ0FNQUpNQllESUFUQWFBeVFBd0dRQW1BOEJrQUpnTUFKTUJZRElBVEFhQXlRQXdHUUFtQThCa0FKZ01BSk1CWURJQVRBYUF5UUF3R1FEaHFyU3cwc2Q1aWdhQVB2WGhkdkdJcS9OeUxnTkFtWHFBWXg3T2N3eVh3TW9BVUtaZTRPZVlqNEVDYnBmeWk1aFVhaFp3aU9FdkREMEF6TFF3NmxVZHNKenlrbFFNbHB4aG1ZVlF2MXFCalZTV3JxYUEyMkNweGNLWERyWGpVcTFjS01QOEhtQVZNTW5DbGk0MTR6SjBiOEd0eGM4TnVOdHp1TXdjSGJqMDlVMVpDVXBkQmtGb0FXWUEwM0NKck1EbE1Ob1A3QU82c3hTTS93R3E3SXFjSzk5a3VBQUFBQUJKUlU1RXJrSmdnZz09JyxcbiAgd2hpdGU6ICdpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQUREUG1ITEFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg1UVlRRWlZSWg2UCtwZ0FBQUIxcFZGaDBRMjl0YldWdWRBQUFBQUFBUTNKbFlYUmxaQ0IzYVhSb0lFZEpUVkJrTG1VSEFBQUNoRWxFUVZSNDJ1M2RRVkxETUJCRVVUeEY1ZjduelFZdUFFa2NzRFJTdjc5bEVhbjdXM2JzeUJ3ZllkenY5NjlIZjcvZGJrZFNIb2ZpczBVNGxKOHR3YUg4YkFsSytkbVVDTElsSWtBNGh5TTMrMXJBQ3VBYUFBUUFBVUFBRUFBRUFBRkFBQkFBQkFBQlFBQVFBQVFBQVVBQUVBQUVBQUZBQUJBQUJBQUJRQUFRQUFUQWNueU8rSkJIKy9UU1hzblNMWnRqNWdTdm5HejN6YUd6Y2hsNkNqaFRRdExMSERybFVoMG1pWGxaVnFjQkowalRMWnR5NUdldkJOVnRnRHNMMURHZmN1Um5yd1NsL0d3SnFsdjVPOThZNm5pdm94ejUyU3RCS1Q5Ymd1cFVmc0p6Z2F2bStHNG5wZnhzQ1VyNTJSS1U4ck1sS09WblMxREt6NWFnbEo4dFFTay9XNEpTZnJZRXg2anlSd2MwNnhuRmF2a2RLdzMrVENHakJWZzF1MXB4QXQzR3UzSjJ0ZUlFT2dXL2VuYTErbE85bWVQZklUdGJ3OExaUW9BWlIrSXV2NGV3QWxnQlFBQVFBQVJZbGhuUEdIWjVybUVGU0Y4QlZqZDU1dmgzeUs1V25raUhjYStlM1pKUEExOEpmY2JqNEJYekcvWjdnTkZIeXVwN0ZrZjFVS01tYWl0WnYvSi8vUlpBZ296eUgzNE5KTUgrNVQrOUQwQ0N2Y3QvS2dBSjlpNy9KUUZJc0cvNUx3dEFnajNMUHlVQUNmWXIvN1FBSk5pci9MY0VJTUUrNWI4dHdKVVNZR3dYTmV1REUxZUJLK2IyMXc1cTlnQXdOL3ZxTWhETXlieTZEWWhNWXpPcXJnTlQzSmlNcTdPZHVEN2I2alJRcjRvZG4wMTFtYWhYeGM3SnBqcE0xS3RpNTJVekxQaWZib0pjT2JtVmZoUTZPcHNwQW96R2Z6SnBjQW9BQVVBQUVBQUVBQUZBQUJBQUJBQUJRQUFRQUFRQUFVQUFFQUFFQUFGQUFCQUFCQUFCUUFBUUFBUUFBWEFSVzIvSy9LL3RZVHR2WHJVQ09BVWc5ZWpmWGdDdnF3bS9CdmpydFVDQ1FERkh5RmtKVWxhUHVDWHltUWhwcDQxdkNYUEEzR3hia2JBQUFBQUFTVVZPUks1Q1lJST0nXG59O1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtaW1hZ2UtY29tcGFyaXNvbi1zbGlkZXInLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgc3R5bGU9XCJvdmVyZmxvdzogaGlkZGVuO1wiICNkMT5cbiAgICAgIDxpbWdcbiAgICAgICAgW3NyY109XCJzcmMxXCJcbiAgICAgICAgW2FsdF09XCJhbHQxXCJcbiAgICAgICAgI2kxLz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBjdXJzb3I6IGNvbC1yZXNpemU7XCIgI3M+XG4gICAgICA8ZGl2IHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlO1wiIFtoaWRkZW5dPVwiIXNob3dTbGlkZXJCYWxsXCIgI3NiPlxuICAgICAgICA8aW1nXG4gICAgICAgICAgYWx0PVwic2VwYXJhdGUgaW1hZ2VcIlxuICAgICAgICAgIFtzcmNdPVwic2xpZGVyQmFsbEltYWdlU3JjXCJcbiAgICAgICAgICB3aWR0aD1cIjYwJVwiXG4gICAgICAgICAgc3R5bGU9XCJsZWZ0OiAyMCU7IHRvcDogMjAlOyBwb3NpdGlvbjogYWJzb2x1dGVcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBzdHlsZT1cIm92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTtcIiAjZDI+XG4gICAgICA8aW1nXG4gICAgICAgIFtzcmNdPVwic3JjMlwiXG4gICAgICAgIFthbHRdPVwiYWx0MlwiXG4gICAgICAgIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlO1wiXG4gICAgICAgICNpMlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgYCxcbiAgc3R5bGVzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hJbWFnZUNvbXBhcmlzb25TbGlkZXJDb21wb25lbnRcbiAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gIEBWaWV3Q2hpbGQoJ2QxJykgZGl2OiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkMicpIGRpdjI6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ3MnKSBzbGlkZXI6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2kxJykgaW1hZ2U6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2kyJykgaW1hZ2UyOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdzYicpIHNsaWRlckJhbGw6IEVsZW1lbnRSZWY7XG5cbiAgdmFsdWUgPSBuZXcgU3ViamVjdDxudW1iZXI+KCk7XG4gIHZhbHVlU3ViOiBTdWJzY3JpcHRpb247XG4gIEBJbnB1dCgpIHNyYzE6IHN0cmluZztcbiAgQElucHV0KCkgc3JjMjogc3RyaW5nO1xuICBASW5wdXQoKSBtYXhXaWR0aCA9IDYwMDtcbiAgQElucHV0KCkgbWF4SGVpZ2h0ID0gNDAwO1xuICBASW5wdXQoKSBpbWFnZUZpdDogJ2NvdmVyJyB8ICdjb250YWluJyB8ICdmaWxsJyA9ICdjb3Zlcic7XG4gIEBJbnB1dCgpIHNsaWRlcldpZHRoID0gNTtcbiAgQElucHV0KCkgc2xpZGVyQ29sb3IgPSAnd2hpdGVzbW9rZSc7XG4gIEBJbnB1dCgpIHNob3dTbGlkZXJCYWxsID0gdHJ1ZTtcbiAgQElucHV0KCkgY2FsY1NsaWRlckJhbGxEaWYgPSB0cnVlO1xuICBASW5wdXQoKSBzbGlkZXJCYWxsU2l6ZTtcbiAgQElucHV0KCkgc2xpZGVyQmFsbEltYWdlQ29sb3I6ICdibGFjaycgfCAnd2hpdGUnID0gJ2JsYWNrJztcbiAgc2xpZGVyQmFsbEltYWdlU3JjOiBTYWZlUmVzb3VyY2VVcmwgPSAnJztcbiAgQElucHV0KCkgbGVmdEJvcmRlcjogbnVtYmVyO1xuICBASW5wdXQoKSByaWdodEJvcmRlcjogbnVtYmVyO1xuICBASW5wdXQoKSBhbHQxID0gJ3NsaWRlckltYWdlMSc7XG4gIEBJbnB1dCgpIGFsdDIgPSAnc2xpZGVySW1hZ2UyJztcbiAgQElucHV0KCkgekluZGV4U3RhcnQgPSAxMDAwO1xuICBASW5wdXQoKSBzdGFydFBvczogJ2xlZnRCb3JkZXInIHwgJ21pZGRsZScgfCAncmlnaHRCb3JkZXInIHwgbnVtYmVyID0gJ21pZGRsZSc7XG4gIEBJbnB1dCgpIHNsaWRlclNoYWRvdyA9IHRydWU7XG4gIGlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XG4gIH1cblxuICBfc2V0RWxlbWVudFdpZHRoSGVpZ2h0KHg6IEVsZW1lbnRSZWYsIHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgeC5uYXRpdmVFbGVtZW50LnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xuICAgIHgubmF0aXZlRWxlbWVudC5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICB9XG5cbiAgX3NldEVsZW1lbnRTdHlsZSh4OiBFbGVtZW50UmVmLCBhdHRyOiBzdHJpbmcsIHZhbDogc3RyaW5nIHwgbnVtYmVyKTogdm9pZCB7XG4gICAgKHgubmF0aXZlRWxlbWVudC5zdHlsZSBhcyBDU1NTdHlsZURlY2xhcmF0aW9uKVthdHRyXSA9IHZhbDtcbiAgfVxuXG4gIF9zZXRFbGVtZW50U3R5bGVzT2JqKHg6IEVsZW1lbnRSZWYsIHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHZvaWQge1xuICAgIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChrID0+IHtcbiAgICAgIHRoaXMuX3NldEVsZW1lbnRTdHlsZSh4LCBrLCBzdHlsZXNba10pO1xuICAgIH0pO1xuICB9XG5cbiAgX2luaXRWYWx1ZXMoKTogdm9pZCB7XG4gICAgdGhpcy5zbGlkZXJCYWxsU2l6ZSA9ICEhdGhpcy5zbGlkZXJCYWxsU2l6ZVxuICAgICAgPyB0aGlzLnNsaWRlckJhbGxTaXplXG4gICAgICA6IHRoaXMuc2xpZGVyV2lkdGggKiA0O1xuICAgIGNvbnN0IHNsaWRlckJhbGxEaWYgPSB0aGlzLnNob3dTbGlkZXJCYWxsICYmIHRoaXMuY2FsY1NsaWRlckJhbGxEaWYgPyB0aGlzLnNsaWRlckJhbGxTaXplIC8gMiAtIHRoaXMuc2xpZGVyV2lkdGggLyAyIDogMDtcbiAgICB0aGlzLmxlZnRCb3JkZXIgPSAhIXRoaXMubGVmdEJvcmRlciAmJiB0aGlzLmxlZnRCb3JkZXIgPiAwXG4gICAgICA/IHRoaXMubGVmdEJvcmRlclxuICAgICAgOiBzbGlkZXJCYWxsRGlmO1xuICAgIHRoaXMucmlnaHRCb3JkZXIgPSAhIXRoaXMucmlnaHRCb3JkZXIgJiYgdGhpcy5yaWdodEJvcmRlciA8IHRoaXMubWF4V2lkdGhcbiAgICAgID8gdGhpcy5yaWdodEJvcmRlclxuICAgICAgOiB0aGlzLm1heFdpZHRoIC0gdGhpcy5zbGlkZXJXaWR0aCAtIHNsaWRlckJhbGxEaWY7XG4gICAgdGhpcy5zbGlkZXJCYWxsSW1hZ2VTcmMgPSB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmwoYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwgJHtzZXBhcmF0b3JJbWFnZXNbdGhpcy5zbGlkZXJCYWxsSW1hZ2VDb2xvcl19YCk7XG4gIH1cblxuICBfaW5pdFN0eWxlcygpOiB2b2lkIHtcbiAgICAvLyBMRUZUIENPTlRBSU5FUlxuICAgIHRoaXMuX3NldEVsZW1lbnRXaWR0aEhlaWdodCh0aGlzLmRpdiwgdGhpcy5tYXhXaWR0aCwgdGhpcy5tYXhIZWlnaHQpO1xuICAgIHRoaXMuX3NldEVsZW1lbnRTdHlsZXNPYmoodGhpcy5kaXYsIHtcbiAgICAgIHpJbmRleDogdGhpcy56SW5kZXhTdGFydCArIDFcbiAgICB9KTtcbiAgICAvLyBSSUdIVCBDT05UQUlORVJcbiAgICB0aGlzLl9zZXRFbGVtZW50V2lkdGhIZWlnaHQodGhpcy5kaXYyLCB0aGlzLm1heFdpZHRoLCB0aGlzLm1heEhlaWdodCk7XG4gICAgdGhpcy5fc2V0RWxlbWVudFN0eWxlc09iaih0aGlzLmRpdjIsIHtcbiAgICAgIHRvcDogLXRoaXMubWF4SGVpZ2h0ICogMiArICdweCcsXG4gICAgICBtYXJnaW5Cb3R0b206IC10aGlzLm1heEhlaWdodCAqIDIgKyAncHgnLFxuICAgICAgekluZGV4OiB0aGlzLnpJbmRleFN0YXJ0XG4gICAgfSk7XG4gICAgLy8gU0xJREVSXG4gICAgdGhpcy5fc2V0RWxlbWVudFdpZHRoSGVpZ2h0KHRoaXMuc2xpZGVyLCB0aGlzLnNsaWRlcldpZHRoLCB0aGlzLm1heEhlaWdodCk7XG4gICAgdGhpcy5fc2V0RWxlbWVudFN0eWxlc09iaih0aGlzLnNsaWRlciwge1xuICAgICAgdG9wOiAtdGhpcy5tYXhIZWlnaHQgKyAncHgnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnNsaWRlckNvbG9yLFxuICAgICAgekluZGV4OiB0aGlzLnpJbmRleFN0YXJ0ICsgMixcbiAgICAgIGJveFNoYWRvdzogdGhpcy5zbGlkZXJTaGFkb3cgPyAnMCAwIDE1cHggYmxhY2snIDogJ25vbmUnXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RWxlbWVudFdpZHRoSGVpZ2h0KHRoaXMuc2xpZGVyQmFsbCwgdGhpcy5zbGlkZXJCYWxsU2l6ZSwgdGhpcy5zbGlkZXJCYWxsU2l6ZSk7XG4gICAgdGhpcy5fc2V0RWxlbWVudFN0eWxlc09iaih0aGlzLnNsaWRlckJhbGwsIHtcbiAgICAgIHRvcDogdGhpcy5tYXhIZWlnaHQgLyAyIC0gdGhpcy5zbGlkZXJCYWxsU2l6ZSAvIDIgKyAncHgnLFxuICAgICAgbGVmdDogdGhpcy5zbGlkZXJXaWR0aCAvIDIgLSB0aGlzLnNsaWRlckJhbGxTaXplIC8gMiArICdweCcsXG4gICAgICBib3JkZXJSYWRpdXM6IHRoaXMuc2xpZGVyQmFsbFNpemUgLyAyICsgJ3B4JyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5zbGlkZXJDb2xvcixcbiAgICB9KTtcbiAgICAvLyBMRUZUIElNQUdFXG4gICAgdGhpcy5fc2V0RWxlbWVudFdpZHRoSGVpZ2h0KHRoaXMuaW1hZ2UsIHRoaXMubWF4V2lkdGgsIHRoaXMubWF4SGVpZ2h0KTtcbiAgICAvLyBSSUdIVCBJTUFHRVxuICAgIHRoaXMuX3NldEVsZW1lbnRXaWR0aEhlaWdodCh0aGlzLmltYWdlMiwgdGhpcy5tYXhXaWR0aCwgdGhpcy5tYXhIZWlnaHQpO1xuICAgIHRoaXMuX3NldEVsZW1lbnRTdHlsZXNPYmoodGhpcy5pbWFnZTIsIHtcbiAgICAgIG9iamVjdEZpdDogdGhpcy5pbWFnZUZpdCxcbiAgICB9KTtcbiAgfVxuXG4gIF9pbml0TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMudmFsdWVTdWIgPSB0aGlzLnZhbHVlLnN1YnNjcmliZSh4ID0+IHtcbiAgICAgIHRoaXMuZGl2Lm5hdGl2ZUVsZW1lbnQuc3R5bGUud2lkdGggPSB4ICsgJ3B4JztcbiAgICAgIHRoaXMuc2xpZGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgICAgdGhpcy5pbWFnZTIubmF0aXZlRWxlbWVudC5zdHlsZS5jbGlwID1cbiAgICAgICAgJ3JlY3QoMHB4LDIwMDBweCwyMDAwcHgsJyArIHggKyAncHgpJztcbiAgICB9KTtcblxuICAgIGxldCBjbGlja09mZnNldCA9IDA7XG4gICAgY29uc3QgZGl2T2Zmc2V0ID0gdGhpcy5kaXYubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgIGNvbnN0IHN0YXJ0TGlzdGVuZXIgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICBjbGlja09mZnNldCA9IGUub2Zmc2V0WDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdmVMaXN0ZW5lciA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xpZW50WCA9IGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50XG4gICAgICAgICAgPyBlLmNsaWVudFhcbiAgICAgICAgICA6IGUudG91Y2hlcy5pdGVtKDApLmNsaWVudFg7XG4gICAgICAgIGNvbnN0IG5ld1ZhbCA9IGNsaWVudFggLSBjbGlja09mZnNldCAtIGRpdk9mZnNldDtcbiAgICAgICAgdGhpcy52YWx1ZS5uZXh0KFxuICAgICAgICAgIE1hdGgubWF4KE1hdGgubWluKG5ld1ZhbCwgdGhpcy5yaWdodEJvcmRlciksIHRoaXMubGVmdEJvcmRlcilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGVuZExpc3RlbmVyID0gKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5zbGlkZXIubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydExpc3RlbmVyKTtcbiAgICB0aGlzLnNsaWRlci5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzdGFydExpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW92ZUxpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgbW92ZUxpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZExpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBlbmRMaXN0ZW5lcik7XG4gIH1cblxuICBfaW5pdFN0YXJ0UG9zKCk6IHZvaWQge1xuICAgIGxldCBzdGFydFZhbDogbnVtYmVyO1xuICAgIHN3aXRjaCAodGhpcy5zdGFydFBvcykge1xuICAgICAgY2FzZSAnbGVmdEJvcmRlcic6XG4gICAgICAgIHN0YXJ0VmFsID0gdGhpcy5sZWZ0Qm9yZGVyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgIHN0YXJ0VmFsID1cbiAgICAgICAgICB0aGlzLm1heFdpZHRoIC8gMiAtIHRoaXMuc2xpZGVyV2lkdGggLyAyIC0gKHRoaXMuc2hvd1NsaWRlckJhbGwgPyB0aGlzLnNsaWRlckJhbGxTaXplIC8gMiA6IDApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpZ2h0Qm9yZGVyJzpcbiAgICAgICAgc3RhcnRWYWwgPSB0aGlzLnJpZ2h0Qm9yZGVyO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN0YXJ0VmFsID0gdGhpcy5zdGFydFBvcztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMudmFsdWUubmV4dChzdGFydFZhbCk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLl9pbml0VmFsdWVzKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5faW5pdFN0eWxlcygpO1xuICAgIHRoaXMuX2luaXRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9pbml0U3RhcnRQb3MoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlU3ViKSB7XG4gICAgICB0aGlzLnZhbHVlU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG4iXX0=