!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-image-comparison-slider",["exports","@angular/core","rxjs","@angular/platform-browser"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-image-comparison-slider"]={},t.ng.core,t.rxjs,t.ng.platformBrowser)}(this,(function(t,e,i,s){"use strict";var A=function(){};A.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new A},token:A,providedIn:"root"}),A.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],A.ctorParameters=function(){return[]};var r={black:"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",white:"iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QYQEiYIh6P+pgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAChElEQVR42u3dQVLDMBBEUTxF5f7nzQYuAEkcsDRSv79lEan7W3bsyBwfYdzv969Hf7/dbkdSHofis0U4lJ8twaH8bAlK+dmUCLIlIkA4hyM3+1rACuAaAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAATAcnyO+JBH+/TSXsnSLZtj5gSvnGz3zaGzchl6CjhTQtLLHDrlUh0miXlZVqcBJ0jTLZty5GevBNVtgDsL1DGfcuRnrwSl/GwJqlv5O98Y6nivoxz52StBKT9bgupUfsJzgavm+G4npfxsCUr52RKU8rMlKOVnS1DKz5aglJ8tQSk/W4JSfrYEx6jyRwc06xnFavkdKw3+TCGjBVg1u1pxAt3Gu3J2teIEOgW/ena1+lO9mePfITtbw8LZQoAZR+Iuv4ewAlgBQAAQAARYlhnPGHZ5rmEFSF8BVjd55vh3yK5WnkiHca+e3ZJPA18Jfcbj4BXzG/Z7gNFHyup7Fkf1UKMmaitZv/J//RZAgozyH34NJMH+5T+9D0CCvct/KgAJ9i7/JQFIsG/5LwtAgj3LPyUACfYr/7QAJNir/LcEIME+5b8twJUSYGwXNeuDE1eBK+b21w5q9gAwN/vqMhDMyby6DYhMYzOqrgNT3JiMq7OduD7b6jRQr4odn011mahXxc7JpjpM1Kti52UzLPifboJcObmVfhQ6OpspAozGfzJpcAoAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAXARW2/K/K/tYTtvXrUCOAUg9ejfXgCvqwm/BvjrtUCCQDFHyFkJUlaPuCXymQhpp41vCXPA3GxbkbAAAAAASUVORK5CYII="},l=function(){function t(t){this.sanitizer=t,this.value=new i.Subject,this.maxWidth=600,this.maxHeight=400,this.imageFit="cover",this.sliderWidth=5,this.sliderColor="whitesmoke",this.showSliderBall=!0,this.calcSliderBallDif=!0,this.sliderBallImageColor="black",this.sliderBallImageSrc="",this.alt1="sliderImage1",this.alt2="sliderImage2",this.zIndexStart=1e3,this.startPos="middle",this.sliderShadow=!0,this.isDragging=!1}return t.prototype._setElementWidthHeight=function(t,e,i){t.nativeElement.style.height=i+"px",t.nativeElement.style.width=e+"px"},t.prototype._setElementStyle=function(t,e,i){t.nativeElement.style[e]=i},t.prototype._setElementStylesObj=function(t,e){var i=this;Object.keys(e).forEach((function(s){i._setElementStyle(t,s,e[s])}))},t.prototype._initValues=function(){this.sliderBallSize=this.sliderBallSize?this.sliderBallSize:4*this.sliderWidth;var t=this.showSliderBall&&this.calcSliderBallDif?this.sliderBallSize/2-this.sliderWidth/2:0;this.leftBorder=this.leftBorder&&this.leftBorder>0?this.leftBorder:t,this.rightBorder=this.rightBorder&&this.rightBorder<this.maxWidth?this.rightBorder:this.maxWidth-this.sliderWidth-t,this.sliderBallImageSrc=this.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, "+r[this.sliderBallImageColor])},t.prototype._initStyles=function(){this._setElementWidthHeight(this.div,this.maxWidth,this.maxHeight),this._setElementStylesObj(this.div,{zIndex:this.zIndexStart+1}),this._setElementWidthHeight(this.div2,this.maxWidth,this.maxHeight),this._setElementStylesObj(this.div2,{top:2*-this.maxHeight+"px",marginBottom:2*-this.maxHeight+"px",zIndex:this.zIndexStart}),this._setElementWidthHeight(this.slider,this.sliderWidth,this.maxHeight),this._setElementStylesObj(this.slider,{top:-this.maxHeight+"px",backgroundColor:this.sliderColor,zIndex:this.zIndexStart+2,boxShadow:this.sliderShadow?"0 0 15px black":"none"}),this._setElementWidthHeight(this.sliderBall,this.sliderBallSize,this.sliderBallSize),this._setElementStylesObj(this.sliderBall,{top:this.maxHeight/2-this.sliderBallSize/2+"px",left:this.sliderWidth/2-this.sliderBallSize/2+"px",borderRadius:this.sliderBallSize/2+"px",backgroundColor:this.sliderColor}),this._setElementWidthHeight(this.image,this.maxWidth,this.maxHeight),this._setElementWidthHeight(this.image2,this.maxWidth,this.maxHeight),this._setElementStylesObj(this.image2,{objectFit:this.imageFit})},t.prototype._initListeners=function(){var t=this;this.valueSub=this.value.subscribe((function(e){t.div.nativeElement.style.width=e+"px",t.slider.nativeElement.style.left=e+"px",t.image2.nativeElement.style.clip="rect(0px,2000px,2000px,"+e+"px)"}));var e=0,i=this.div.nativeElement.getBoundingClientRect().left,s=function(i){i.preventDefault(),console.log(i),t.isDragging=!0,i instanceof MouseEvent&&(e=i.offsetX)},A=function(s){if(t.isDragging){s instanceof MouseEvent&&s.preventDefault();var A=(s instanceof MouseEvent?s.clientX:s.touches.item(0).clientX)-e-i;t.value.next(Math.max(Math.min(A,t.rightBorder),t.leftBorder))}},r=function(e){t.isDragging=!1};this.slider.nativeElement.addEventListener("mousedown",s),this.slider.nativeElement.addEventListener("touchstart",s),window.addEventListener("mousemove",A),window.addEventListener("touchmove",A),window.addEventListener("mouseup",r),window.addEventListener("touchend",r)},t.prototype._initStartPos=function(){var t;switch(this.startPos){case"leftBorder":t=this.leftBorder;break;case"middle":t=this.maxWidth/2-this.sliderWidth/2-(this.showSliderBall?this.sliderBallSize/2:0);break;case"rightBorder":t=this.rightBorder;break;default:t=this.startPos}this.value.next(t)},t.prototype.ngOnInit=function(){this._initValues()},t.prototype.ngAfterViewInit=function(){this._initStyles(),this._initListeners(),this._initStartPos()},t.prototype.ngOnDestroy=function(){this.valueSub&&this.valueSub.unsubscribe()},t}();l.decorators=[{type:e.Component,args:[{selector:"ngx-image-comparison-slider",template:'\n    <div style="overflow: hidden;" #d1>\n      <img\n        [src]="src1"\n        [alt]="alt1"\n        #i1/>\n    </div>\n    <div style="position: relative; cursor: col-resize;" #s>\n      <div style="position: absolute;" [hidden]="!showSliderBall" #sb>\n        <img\n          alt="separate image"\n          [src]="sliderBallImageSrc"\n          width="60%"\n          style="left: 20%; top: 20%; position: absolute"\n        />\n      </div>\n    </div>\n    <div style="overflow: hidden; position: relative;" #d2>\n      <img\n        [src]="src2"\n        [alt]="alt2"\n        style="position: absolute;"\n        #i2\n      />\n    </div>\n  '}]}],l.ctorParameters=function(){return[{type:s.DomSanitizer}]},l.propDecorators={div:[{type:e.ViewChild,args:["d1"]}],div2:[{type:e.ViewChild,args:["d2"]}],slider:[{type:e.ViewChild,args:["s"]}],image:[{type:e.ViewChild,args:["i1"]}],image2:[{type:e.ViewChild,args:["i2"]}],sliderBall:[{type:e.ViewChild,args:["sb"]}],src1:[{type:e.Input}],src2:[{type:e.Input}],maxWidth:[{type:e.Input}],maxHeight:[{type:e.Input}],imageFit:[{type:e.Input}],sliderWidth:[{type:e.Input}],sliderColor:[{type:e.Input}],showSliderBall:[{type:e.Input}],calcSliderBallDif:[{type:e.Input}],sliderBallSize:[{type:e.Input}],sliderBallImageColor:[{type:e.Input}],leftBorder:[{type:e.Input}],rightBorder:[{type:e.Input}],alt1:[{type:e.Input}],alt2:[{type:e.Input}],zIndexStart:[{type:e.Input}],startPos:[{type:e.Input}],sliderShadow:[{type:e.Input}]};var n=function(){};n.decorators=[{type:e.NgModule,args:[{declarations:[l],imports:[],exports:[l]}]}],t.NgxImageComparisonSliderComponent=l,t.NgxImageComparisonSliderModule=n,t.NgxImageComparisonSliderService=A,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-image-comparison-slider.umd.min.js.map